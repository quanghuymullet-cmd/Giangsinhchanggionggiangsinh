<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ„ ChÃ©m QuÃ  Noel ğŸ</title>
  <style>
    body {
      margin: 0;
      background: radial-gradient(circle, #14532d, #052e16);
      color: white;
      font-family: Arial, sans-serif;
      overflow: hidden;
    }
    #ui {
      position: fixed;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 20px;
      font-size: 18px;
      z-index: 10;
    }
    canvas {
      display: block;
    }
    #startScreen {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      z-index: 20;
    }
    button {
      padding: 12px 24px;
      font-size: 18px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      background: #facc15;
      color: #7c2d12;
      font-weight: bold;
    }
  </style>
</head>
<body>

<div id="ui">
  <div>ğŸ Äiá»ƒm: <span id="score">0</span></div>
  <div>âš¡ Tá»‘c Ä‘á»™: <span id="speed">1</span></div>
</div>

<div id="startScreen">
  <h1>ğŸ„ ChÃ©m QuÃ  Noel ğŸ…</h1>
  <p>ChÃ©m ğŸ Ä‘á»ƒ ghi Ä‘iá»ƒm â€“ ChÃ©m ğŸ˜¡ğŸ… lÃ  THUA!</p>
  <button onclick="startGame()">Báº¯t Ä‘áº§u</button>
</div>

<canvas id="game"></canvas>

<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let objects = [];
let score = 0;
let speed = 1;
let playing = false;

function spawnObject() {
  const isBad = Math.random() < 0.2; // 20% Noel giáº­n dá»¯
  objects.push({
    x: Math.random() * canvas.width,
    y: -50,
    r: 30,
    vy: (2 + Math.random() * 2) * speed,
    bad: isBad
  });
}

function drawObject(o) {
  ctx.font = '40px serif';
  ctx.textAlign = 'center';
  ctx.textBaseline = 'middle';
  ctx.fillText(o.bad ? 'ğŸ˜¡ğŸ…' : 'ğŸ', o.x, o.y);
}

function update() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  objects.forEach(o => {
    o.y += o.vy;
    drawObject(o);
  });

  objects = objects.filter(o => o.y < canvas.height + 50);

  requestAnimationFrame(update);
}

canvas.addEventListener('mousemove', e => {
  if (!playing) return;
  objects.forEach((o, i) => {
    const dx = e.clientX - o.x;
    const dy = e.clientY - o.y;
    if (Math.sqrt(dx*dx + dy*dy) < o.r) {
      if (o.bad) {
        endGame();
      } else {
        score++;
        if (score % 5 === 0) speed += 0.3;
        document.getElementById('score').textContent = score;
        document.getElementById('speed').textContent = speed.toFixed(1);
        objects.splice(i, 1);
      }
    }
  });
});

let spawnInterval;
function startGame() {
  document.getElementById('startScreen').style.display = 'none';
  objects = [];
  score = 0;
  speed = 1;
  playing = true;
  document.getElementById('score').textContent = score;
  document.getElementById('speed').textContent = speed;
  spawnInterval = setInterval(spawnObject, 700);
  update();
}

function endGame() {
  playing = false;
  clearInterval(spawnInterval);
  alert('ğŸ˜µ Game Over! Äiá»ƒm cá»§a báº¡n: ' + score);
  location.reload();
}
</script>
</body>
</html>

